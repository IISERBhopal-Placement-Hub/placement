<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IISER Bhopal Placement Statistics</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #1a237e;
            --secondary-color: #3949ab;
            --accent-color: #5c6bc0;
            --success-color: #2e7d32;
            --warning-color: #f57c00;
            --danger-color: #c62828;
            --light-bg: #f5f5f5;
            --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --hover-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);
            --gradient-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--gradient-bg);
            min-height: 100vh;
            color: #333;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated Background */
        .bg-animation {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
            opacity: 0.1;
            pointer-events: none;
        }

        .bg-animation span {
            position: absolute;
            display: block;
            width: 20px;
            height: 20px;
            background: rgba(255, 255, 255, 0.2);
            animation: move 25s linear infinite;
            bottom: -150px;
            border-radius: 50%;
        }

        @keyframes move {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
                border-radius: 0;
            }
            100% {
                transform: translateY(-1000px) rotate(720deg);
                opacity: 0;
                border-radius: 50%;
            }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--card-shadow);
            text-align: center;
            animation: slideDown 0.6s ease-out;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header h1 {
            color: var(--primary-color);
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            color: #666;
            font-size: 1.1rem;
        }

        /* Year Selector */
        .year-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .year-btn {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            padding: 12px 25px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
        }

        .year-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.5s;
        }

        .year-btn:hover::before {
            left: 100%;
        }

        .year-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--hover-shadow);
        }

        .year-btn.active {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            transform: scale(1.05);
            border-color: var(--accent-color);
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.6s ease-out;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .stat-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: var(--hover-shadow);
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
            font-weight: 500;
        }

        .stat-value {
            font-size: 2.2rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 5px;
        }

        .stat-detail {
            color: #888;
            font-size: 0.9rem;
        }

        /* Department Cards */
        .department-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .dept-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            animation: fadeInUp 0.6s ease-out;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .dept-card::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary-color)20, var(--accent-color)20);
            border-radius: 0 15px 0 60px;
            opacity: 0.1;
        }

        .dept-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: var(--hover-shadow);
        }

        .dept-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .dept-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin-right: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .dept-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary-color);
            line-height: 1.3;
        }

        .dept-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
        }

        .dept-stat {
            background: var(--light-bg);
            padding: 15px;
            border-radius: 10px;
            transition: all 0.3s ease;
            border-left: 4px solid var(--accent-color);
        }

        .dept-stat:hover {
            background: #e8eaf6;
            transform: scale(1.05);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .dept-stat-label {
            color: #666;
            font-size: 0.85rem;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .dept-stat-value {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        /* Charts Container */
        .charts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .chart-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            animation: fadeInUp 0.6s ease-out;
            border: 1px solid rgba(255, 255, 255, 0.2);
            min-height: 400px;
        }

        .chart-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 20px;
            text-align: center;
        }

        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }

        /* Section Headers */
        .section-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: var(--card-shadow);
            animation: fadeInUp 0.6s ease-out;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* International Placements */
        .intl-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .intl-item {
            background: var(--light-bg);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .intl-item:hover {
            transform: scale(1.05);
            background: #e8eaf6;
            border-color: var(--accent-color);
        }

        /* Progress Bars */
        .progress-container {
            margin-top: 15px;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 0.9rem;
            color: #666;
            font-weight: 500;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            border-radius: 5px;
            transition: width 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            animation: progressAnimation 2s ease-out;
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background-image: linear-gradient(
                -45deg,
                rgba(255, 255, 255, 0.2) 25%,
                transparent 25%,
                transparent 50%,
                rgba(255, 255, 255, 0.2) 50%,
                rgba(255, 255, 255, 0.2) 75%,
                transparent 75%,
                transparent
            );
            background-size: 50px 50px;
            animation: move 2s linear infinite;
        }

        @keyframes progressAnimation {
            from {
                width: 0;
            }
        }

        @keyframes move {
            0% {
                background-position: 0 0;
            }
            100% {
                background-position: 50px 50px;
            }
        }

        /* Comparison Table */
        .comparison-table {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            margin-bottom: 30px;
            overflow-x: auto;
            animation: fadeInUp 0.6s ease-out;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .comparison-table table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        .comparison-table th {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            font-weight: 600;
            position: sticky;
            top: 0;
            text-align: center;
        }

        .comparison-table tr:hover {
            background: var(--light-bg);
        }

        .comparison-table td {
            text-align: center;
        }

        .comparison-table td:first-child {
            text-align: left;
            font-weight: 600;
        }

        /* Loading Animation */
        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 6px solid rgba(255, 255, 255, 0.3);
            border-top: 6px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 20px;
            color: white;
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .year-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .year-btn {
                width: 200px;
            }
            
            .department-grid,
            .charts-container {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }
            
            .chart-card {
                min-height: 350px;
            }
            
            .dept-stats {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.6rem;
            }
            
            .stat-value {
                font-size: 1.8rem;
            }
            
            .dept-card,
            .stat-card,
            .chart-card {
                padding: 20px;
            }
        }

        /* Pulse Animation for Key Stats */
        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* No Data Message */
        .no-data {
            text-align: center;
            padding: 40px 20px;
            color: #666;
            font-style: italic;
        }

        .no-data-icon {
            font-size: 3rem;
            margin-bottom: 10px;
            opacity: 0.5;
        }

        /* Status Indicators */
        .status-indicator {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-in-progress {
            background: rgba(255, 193, 7, 0.2);
            color: #f57c00;
            border: 1px solid rgba(255, 193, 7, 0.3);
        }

        .status-complete {
            background: rgba(76, 175, 80, 0.2);
            color: #2e7d32;
            border: 1px solid rgba(76, 175, 80, 0.3);
        }

        .status-no-data {
            background: rgba(158, 158, 158, 0.2);
            color: #616161;
            border: 1px solid rgba(158, 158, 158, 0.3);
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-animation">
        <span style="left: 10%; animation-delay: 0s;"></span>
        <span style="left: 20%; animation-delay: 2s;"></span>
        <span style="left: 30%; animation-delay: 4s;"></span>
        <span style="left: 40%; animation-delay: 0s;"></span>
        <span style="left: 50%; animation-delay: 2s;"></span>
        <span style="left: 60%; animation-delay: 4s;"></span>
        <span style="left: 70%; animation-delay: 0s;"></span>
        <span style="left: 80%; animation-delay: 2s;"></span>
        <span style="left: 90%; animation-delay: 4s;"></span>
    </div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>IISER Bhopal Placement Statistics Dashboard</h1>
            <p>Comprehensive placement data for B.Tech/BE/BS programs</p>
        </div>

        <!-- Year Selector -->
        <div class="year-selector">
            <button class="year-btn" onclick="showYear('2021-22')">2021-22</button>
            <button class="year-btn" onclick="showYear('2022-23')">2022-23</button>
            <button class="year-btn active" onclick="showYear('2023-24')">2023-24</button>
            <button class="year-btn" onclick="showYear('2024-25')">2024-25</button>
            <button class="year-btn" onclick="showComparison()">Compare All Years</button>
        </div>

        <!-- Loading Spinner -->
        <div class="loading" id="loading">
            <div class="loading-spinner"></div>
        </div>

        <!-- Dynamic Content Container -->
        <div id="content-container">
            <!-- Content will be dynamically loaded here -->
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>üìä Data sourced from Official RTI Response | IISER Bhopal | Updated: December 2024</p>
            <p style="margin-top: 10px; font-size: 0.8rem; opacity: 0.8;">
                Dashboard designed for comprehensive placement analysis and insights
            </p>
        </div>
    </div>

    <script>
        // Official RTI Data - Cross-verified with IISER Bhopal RTI Response
        const placementData = {
            '2021-22': {
                placements: {
                    'Chemical Engineering': {
                        registered: 4,
                        placed: 3,
                        maxSalary: 12.24,
                        avgSalary: 6.42,
                        minSalary: 3.6,
                        intlStudents: 1,
                        intlAvgSalary: 12
                    },
                    'Data Science and Engineering': {
                        registered: null,
                        placed: null,
                        maxSalary: null,
                        avgSalary: null,
                        minSalary: null,
                        intlStudents: null,
                        intlAvgSalary: null
                    },
                    'Economic Sciences': {
                        registered: 10,
                        placed: 9,
                        maxSalary: 19,
                        avgSalary: 13.86,
                        minSalary: 11.8,
                        intlStudents: 4,
                        intlAvgSalary: 10
                    },
                    'Electrical Engineering and Computer Sciences': {
                        registered: 7,
                        placed: 6,
                        maxSalary: 31,
                        avgSalary: 19.4,
                        minSalary: 12,
                        intlStudents: 4,
                        intlAvgSalary: 11
                    }
                },
                internships: {
                    'Chemical Engineering': {
                        students: 2,
                        avgStipend: 0.5,
                        maxStipend: 0.8,
                        minStipend: 0.2
                    },
                    'Data Science and Engineering': {
                        students: null,
                        avgStipend: null,
                        maxStipend: null,
                        minStipend: null
                    },
                    'Economic Sciences': {
                        students: 5,
                        avgStipend: 0.4,
                        maxStipend: 0.6,
                        minStipend: 0.3
                    },
                    'Electrical Engineering and Computer Sciences': {
                        students: 8,
                        avgStipend: 0.45,
                        maxStipend: 0.7,
                        minStipend: 0.25
                    }
                },
                overall: {
                    medianSalary: 12,
                    avgSalary: 14.19
                },
                status: 'complete'
            },
            '2022-23': {
                placements: {
                    'Chemical Engineering': {
                        registered: null,
                        placed: null,
                        maxSalary: null,
                        avgSalary: null,
                        minSalary: null,
                        intlStudents: null,
                        intlAvgSalary: null
                    },
                    'Data Science and Engineering': {
                        registered: 18,
                        placed: 10,
                        maxSalary: 19,
                        avgSalary: 12,
                        minSalary: 4.80,
                        intlStudents: 4,
                        intlAvgSalary: 12.5
                    },
                    'Economic Sciences': {
                        registered: 3,
                        placed: 2,
                        maxSalary: 19,
                        avgSalary: 14.5,
                        minSalary: 10,
                        intlStudents: null,
                        intlAvgSalary: null
                    },
                    'Electrical Engineering and Computer Sciences': {
                        registered: 7,
                        placed: 5,
                        maxSalary: 19,
                        avgSalary: 11.4,
                        minSalary: 8,
                        intlStudents: 2,
                        intlAvgSalary: 12
                    }
                },
                internships: {
                    'Chemical Engineering': {
                        students: null,
                        avgStipend: null,
                        maxStipend: null,
                        minStipend: null
                    },
                    'Data Science and Engineering': {
                        students: 12,
                        avgStipend: 0.6,
                        maxStipend: 1.0,
                        minStipend: 0.3
                    },
                    'Economic Sciences': {
                        students: 2,
                        avgStipend: 0.5,
                        maxStipend: 0.7,
                        minStipend: 0.3
                    },
                    'Electrical Engineering and Computer Sciences': {
                        students: 6,
                        avgStipend: 0.55,
                        maxStipend: 0.8,
                        minStipend: 0.3
                    }
                },
                overall: {
                    medianSalary: 10.5,
                    avgSalary: 11.80
                },
                status: 'complete'
            },
            '2023-24': {
                placements: {
                    'Chemical Engineering': {
                        registered: 2,
                        placed: 2,
                        maxSalary: null,
                        avgSalary: null,
                        minSalary: null,
                        intlStudents: 0,
                        intlAvgSalary: null
                    },
                    'Data Science and Engineering': {
                        registered: 19,
                        placed: 17,
                        maxSalary: 19,
                        avgSalary: 12,
                        minSalary: 4.80,
                        intlStudents: 5,
                        intlAvgSalary: 11
                    },
                    'Economic Sciences': {
                        registered: 2,
                        placed: 1,
                        maxSalary: 19,
                        avgSalary: 14.5,
                        minSalary: 10,
                        intlStudents: 0,
                        intlAvgSalary: null
                    },
                    'Electrical Engineering and Computer Sciences': {
                        registered: 9,
                        placed: 7,
                        maxSalary: 19,
                        avgSalary: 11.4,
                        minSalary: 8,
                        intlStudents: 3,
                        intlAvgSalary: 10
                    }
                },
                internships: {
                    'Chemical Engineering': {
                        students: 1,
                        avgStipend: 0.4,
                        maxStipend: 0.4,
                        minStipend: 0.4
                    },
                    'Data Science and Engineering': {
                        students: 15,
                        avgStipend: 0.7,
                        maxStipend: 1.2,
                        minStipend: 0.4
                    },
                    'Economic Sciences': {
                        students: 1,
                        avgStipend: 0.5,
                        maxStipend: 0.5,
                        minStipend: 0.5
                    },
                    'Electrical Engineering and Computer Sciences': {
                        students: 8,
                        avgStipend: 0.65,
                        maxStipend: 1.0,
                        minStipend: 0.4
                    }
                },
                overall: {
                    medianSalary: 10,
                    avgSalary: 12.4
                },
                status: 'complete'
            },
            '2024-25': {
                placements: {
                    'Chemical Engineering': {
                        registered: 0,
                        placed: 0,
                        maxSalary: null,
                        avgSalary: null,
                        minSalary: null,
                        intlStudents: 0,
                        intlAvgSalary: null
                    },
                    'Data Science and Engineering': {
                        registered: 16,
                        placed: 10,
                        maxSalary: null,
                        avgSalary: null,
                        minSalary: null,
                        intlStudents: 0,
                        intlAvgSalary: null
                    },
                    'Economic Sciences': {
                        registered: 7,
                        placed: 4,
                        maxSalary: null,
                        avgSalary: null,
                        minSalary: null,
                        intlStudents: 1,
                        intlAvgSalary: 10
                    },
                    'Electrical Engineering and Computer Sciences': {
                        registered: 25,
                        placed: 15,
                        maxSalary: null,
                        avgSalary: null,
                        minSalary: null,
                        intlStudents: 0,
                        intlAvgSalary: null
                    }
                },
                internships: {
                    'Chemical Engineering': {
                        students: null,
                        avgStipend: null,
                        maxStipend: null,
                        minStipend: null
                    },
                    'Data Science and Engineering': {
                        students: 12,
                        avgStipend: null,
                        maxStipend: null,
                        minStipend: null
                    },
                    'Economic Sciences': {
                        students: 5,
                        avgStipend: null,
                        maxStipend: null,
                        minStipend: null
                    },
                    'Electrical Engineering and Computer Sciences': {
                        students: 18,
                        avgStipend: null,
                        maxStipend: null,
                        minStipend: null
                    }
                },
                overall: {
                    medianSalary: 9.7,
                    avgSalary: 10.4
                },
                status: 'in-progress',
                note: "In Progress"
            }
        };

        // Department Icons and Colors
        const deptIcons = {
            'Chemical Engineering': '‚öóÔ∏è',
            'Data Science and Engineering': 'üìä',
            'Economic Sciences': 'üìà',
            'Electrical Engineering and Computer Sciences': 'üíª'
        };

        const deptColors = {
            'Chemical Engineering': ['#FF6B6B', '#FF8E53'],
            'Data Science and Engineering': ['#4ECDC4', '#44A08D'],
            'Economic Sciences': ['#45B7D1', '#96C93D'],
            'Electrical Engineering and Computer Sciences': ['#9B59B6', '#8E44AD']
        };

        // Chart instances storage
        let chartInstances = {};

        // Utility Functions
        function calculateTotal(departments, field) {
            let total = 0;
            for (const stats of Object.values(departments)) {
                if (stats[field] !== null && stats[field] !== undefined && typeof stats[field] === 'number') {
                    total += stats[field];
                }
            }
            return total;
        }

        function getStatusBadge(year) {
            const status = placementData[year].status;
            const note = placementData[year].note;
            
            if (status === 'in-progress') {
                return `<span class="status-indicator status-in-progress">${note || 'In Progress'}</span>`;
            } else if (status === 'complete') {
                return `<span class="status-indicator status-complete">Complete</span>`;
            } else {
                return `<span class="status-indicator status-no-data">No Data</span>`;
            }
        }

        function formatSalary(value) {
            if (value === null || value === undefined) return 'N/A';
            return `‚Çπ${value} LPA`;
        }

        function formatStipend(value) {
            if (value === null || value === undefined) return 'N/A';
            return `‚Çπ${value} LPM`;
        }

        function showLoading() {
            document.getElementById('loading').style.display = 'flex';
        }

        function hideLoading() {
            setTimeout(() => {
                document.getElementById('loading').style.display = 'none';
            }, 300);
        }

        function destroyExistingCharts() {
            Object.values(chartInstances).forEach(chart => {
                if (chart && typeof chart.destroy === 'function') {
                    chart.destroy();
                }
            });
            chartInstances = {};
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            showYear('2023-24');
        });

        // Show year data
        function showYear(year) {
            showLoading();
            destroyExistingCharts();
            
            // Update active button
            document.querySelectorAll('.year-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.innerText.includes(year)) {
                    btn.classList.add('active');
                }
            });

            const data = placementData[year];
            let html = '';

            // Overall Statistics
            html += `
                <div class="stats-grid">
                    <div class="stat-card pulse">
                        <div class="stat-label">Overall Median Salary</div>
                        <div class="stat-value">${formatSalary(data.overall.medianSalary)}</div>
                        <div class="stat-detail">${year} Academic Year ${getStatusBadge(year)}</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Overall Average Salary</div>
                        <div class="stat-value">${formatSalary(data.overall.avgSalary)}</div>
                        <div class="stat-detail">${year} Academic Year</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Total Registered</div>
                        <div class="stat-value">${calculateTotal(data.placements, 'registered') || 'N/A'}</div>
                        <div class="stat-detail">Across all departments</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Total Placed</div>
                        <div class="stat-value">${calculateTotal(data.placements, 'placed') || 'N/A'}</div>
                        <div class="stat-detail">Placement success rate</div>
                    </div>
                </div>
            `;

            // Full-time Placements Section
            html += `
                <div class="section-header">
                    <h2 class="section-title">
                        üíº Full-time Placements
                    </h2>
                    <div class="department-grid">
            `;

            // Department-wise Placement Statistics
            for (const [dept, stats] of Object.entries(data.placements)) {
                html += `
                    <div class="dept-card">
                        <div class="dept-header">
                            <div class="dept-icon">${deptIcons[dept]}</div>
                            <div class="dept-name">${dept}</div>
                        </div>
                        <div class="dept-stats">
                            ${stats.registered !== null ? `
                                <div class="dept-stat">
                                    <div class="dept-stat-label">Registered</div>
                                    <div class="dept-stat-value">${stats.registered}</div>
                                </div>
                                <div class="dept-stat">
                                    <div class="dept-stat-label">Placed</div>
                                    <div class="dept-stat-value">${stats.placed}</div>
                                </div>
                            ` : `
                                <div class="dept-stat" style="grid-column: 1 / -1; text-align: center; background: #fafafa; border: 2px dashed #ddd; border-left: 4px solid #ccc;">
                                    <div class="dept-stat-label">Status</div>
                                    <div class="dept-stat-value" style="color: #888; font-size: 1rem;">No Registrations</div>
                                    <div style="font-size: 0.8rem; color: #aaa; margin-top: 5px;">Department not active this year</div>
                                </div>
                            `}
                            ${stats.maxSalary !== null ? `
                                <div class="dept-stat">
                                    <div class="dept-stat-label">Max Salary</div>
                                    <div class="dept-stat-value">${formatSalary(stats.maxSalary)}</div>
                                </div>
                            ` : ''}
                            ${stats.avgSalary !== null ? `
                                <div class="dept-stat">
                                    <div class="dept-stat-label">Avg Salary</div>
                                    <div class="dept-stat-value">${formatSalary(stats.avgSalary)}</div>
                                </div>
                            ` : ''}
                            ${stats.minSalary !== null ? `
                                <div class="dept-stat">
                                    <div class="dept-stat-label">Min Salary</div>
                                    <div class="dept-stat-value">${formatSalary(stats.minSalary)}</div>
                                </div>
                            ` : ''}
                            ${stats.intlStudents !== null && stats.intlStudents > 0 ? `
                                <div class="dept-stat">
                                    <div class="dept-stat-label">International</div>
                                    <div class="dept-stat-value">${stats.intlStudents}</div>
                                </div>
                            ` : ''}
                        </div>
                        ${stats.registered && stats.placed ? `
                            <div class="progress-container">
                                <div class="progress-label">
                                    <span>Placement Rate</span>
                                    <span>${Math.round((stats.placed / stats.registered) * 100)}%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: ${(stats.placed / stats.registered) * 100}%;"></div>
                                </div>
                            </div>
                        ` : ''}
                    </div>
                `;
            }
            html += `
                    </div>
                </div>
            `;

            // Internships Section
            html += `
                <div class="section-header">
                    <h2 class="section-title">
                        üéì Internships and Stipends
                    </h2>
                    <div class="department-grid">
            `;

            // Department-wise Internship Statistics
            for (const [dept, internStats] of Object.entries(data.internships)) {
                html += `
                    <div class="dept-card" style="border-left: 4px solid var(--secondary-color);">
                        <div class="dept-header">
                            <div class="dept-icon" style="background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));">${deptIcons[dept]}</div>
                            <div class="dept-name">${dept}</div>
                        </div>
                        <div class="dept-stats">
                            ${internStats.students !== null ? `
                                <div class="dept-stat">
                                    <div class="dept-stat-label">Intern Students</div>
                                    <div class="dept-stat-value">${internStats.students}</div>
                                </div>
                                ${internStats.avgStipend !== null ? `
                                    <div class="dept-stat">
                                        <div class="dept-stat-label">Avg Stipend</div>
                                        <div class="dept-stat-value">${formatStipend(internStats.avgStipend)}</div>
                                    </div>
                                ` : `
                                    <div class="dept-stat">
                                        <div class="dept-stat-label">Stipend Data</div>
                                        <div class="dept-stat-value" style="font-size: 0.9rem; color: #666;">In Progress</div>
                                    </div>
                                `}
                                ${internStats.maxStipend !== null ? `
                                    <div class="dept-stat">
                                        <div class="dept-stat-label">Max Stipend</div>
                                        <div class="dept-stat-value">${formatStipend(internStats.maxStipend)}</div>
                                    </div>
                                ` : ''}
                                ${internStats.minStipend !== null ? `
                                    <div class="dept-stat">
                                        <div class="dept-stat-label">Min Stipend</div>
                                        <div class="dept-stat-value">${formatStipend(internStats.minStipend)}</div>
                                    </div>
                                ` : ''}
                            ` : `
                                <div class="dept-stat" style="grid-column: 1 / -1; text-align: center; background: #fafafa; border: 2px dashed #ddd; border-left: 4px solid #ccc;">
                                    <div class="dept-stat-label">Status</div>
                                    <div class="dept-stat-value" style="color: #888; font-size: 1rem;">No Internships</div>
                                    <div style="font-size: 0.8rem; color: #aaa; margin-top: 5px;">No internship data available</div>
                                </div>
                            `}
                        </div>
                    </div>
                `;
            }
            html += `
                    </div>
                </div>
            `;

            // Charts Section
            html += `
                <div class="charts-container">
                    <div class="chart-card">
                        <div class="chart-title">üìä Placement vs Internship Distribution</div>
                        <div class="chart-container">
                            <canvas id="placementChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-title">üí∞ Department-wise Salary Analysis</div>
                        <div class="chart-container">
                            <canvas id="salaryChart"></canvas>
                        </div>
                    </div>
                </div>
            `;

            // International Placements
            const intlTotal = calculateTotal(data.placements, 'intlStudents');
            if (intlTotal > 0) {
                html += `
                    <div class="section-header">
                        <div class="section-title">
                            üåç International Placements
                        </div>
                        <div class="intl-grid">
                `;
                for (const [dept, stats] of Object.entries(data.placements)) {
                    if (stats.intlStudents && stats.intlStudents > 0) {
                        html += `
                            <div class="intl-item">
                                <div style="font-size: 2rem; margin-bottom: 10px;">${deptIcons[dept]}</div>
                                <div style="font-weight: 600; color: var(--primary-color); margin-bottom: 5px;">${dept.split(' ').slice(0, 2).join(' ')}</div>
                                <div style="font-size: 1.5rem; font-weight: 700; color: var(--success-color);">${stats.intlStudents}</div>
                                <div style="font-size: 0.9rem; color: #666;">Students</div>
                                ${stats.intlAvgSalary ? `
                                    <div style="margin-top: 10px; font-size: 0.9rem; color: #888;">
                                        Avg: ${formatSalary(stats.intlAvgSalary)}
                                    </div>
                                ` : ''}
                            </div>
                        `;
                    }
                }
                html += `
                        </div>
                    </div>
                `;
            }

            document.getElementById('content-container').innerHTML = html;
            hideLoading();

            // Create charts after DOM update
            setTimeout(() => {
                createPlacementChart(data.placements, data.internships);
                createSalaryChart(data.placements);
            }, 100);
        }

        // Show comparison of all years
        function showComparison() {
            showLoading();
            destroyExistingCharts();
            
            // Update active button
            document.querySelectorAll('.year-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.innerText.includes('Compare')) {
                    btn.classList.add('active');
                }
            });

            let html = `
                <div class="comparison-table">
                    <h2 style="color: var(--primary-color); margin-bottom: 20px; text-align: center;">üìà Year-wise Comparison Overview</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>Academic Year</th>
                                <th>Median Salary</th>
                                <th>Average Salary</th>
                                <th>Total Registered</th>
                                <th>Total Placed</th>
                                <th>Placement Rate</th>
                                <th>International</th>
                                <th>Total Interns</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
            `;

            for (const [year, data] of Object.entries(placementData)) {
                const totalRegistered = calculateTotal(data.placements, 'registered');
                const totalPlaced = calculateTotal(data.placements, 'placed');
                const intlTotal = calculateTotal(data.placements, 'intlStudents');
                const totalInterns = calculateTotal(data.internships, 'students');
                const placementRate = totalRegistered > 0 ? Math.round((totalPlaced / totalRegistered) * 100) : 'N/A';

                html += `
                    <tr>
                        <td style="font-weight: 600;">${year}</td>
                        <td>${formatSalary(data.overall.medianSalary)}</td>
                        <td>${formatSalary(data.overall.avgSalary)}</td>
                        <td>${totalRegistered || 'N/A'}</td>
                        <td>${totalPlaced || 'N/A'}</td>
                        <td>${placementRate}${placementRate !== 'N/A' ? '%' : ''}</td>
                        <td>${intlTotal}</td>
                        <td>${totalInterns || 'N/A'}</td>
                        <td>${getStatusBadge(year)}</td>
                    </tr>
                `;
            }

            html += `
                        </tbody>
                    </table>
                </div>
            `;

            // Department-wise comparison tables
            const allDepts = Object.keys(deptIcons);
            
            html += `
                <div class="comparison-table">
                    <h2 style="color: var(--primary-color); margin-bottom: 20px; text-align: center;">üè¢ Department-wise Average Salary Trends</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>Department</th>
                                <th>2021-22</th>
                                <th>2022-23</th>
                                <th>2023-24</th>
                                <th>2024-25</th>
                            </tr>
                        </thead>
                        <tbody>
            `;
            
            for (const dept of allDepts) {
                html += `<tr><td style="font-weight: 600;">${deptIcons[dept]} ${dept}</td>`;
                for (const year of Object.keys(placementData)) {
                    const stats = placementData[year].placements[dept];
                    if (stats && stats.avgSalary) {
                        html += `<td>${formatSalary(stats.avgSalary)}</td>`;
                    } else {
                        html += `<td style="color: #ccc;">-</td>`;
                    }
                }
                html += `</tr>`;
            }

            html += `
                        </tbody>
                    </table>
                </div>
            `;

            // Internship trends
            html += `
                <div class="comparison-table">
                    <h2 style="color: var(--secondary-color); margin-bottom: 20px; text-align: center;">üéì Department-wise Internship Participation</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>Department</th>
                                <th>2021-22</th>
                                <th>2022-23</th>
                                <th>2023-24</th>
                                <th>2024-25</th>
                            </tr>
                        </thead>
                        <tbody>
            `;
            
            for (const dept of allDepts) {
                html += `<tr><td style="font-weight: 600;">${deptIcons[dept]} ${dept}</td>`;
                for (const year of Object.keys(placementData)) {
                    const internStats = placementData[year].internships[dept];
                    if (internStats && internStats.students !== null) {
                        html += `<td>${internStats.students}</td>`;
                    } else {
                        html += `<td style="color: #ccc;">-</td>`;
                    }
                }
                html += `</tr>`;
            }

            html += `
                        </tbody>
                    </table>
                </div>
            `;

            // Trend Charts
            html += `
                <div class="charts-container">
                    <div class="chart-card">
                        <div class="chart-title">üìä Overall Salary Trends</div>
                        <div class="chart-container">
                            <canvas id="trendChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-title">üìà Placement Rate Trends</div>
                        <div class="chart-container">
                            <canvas id="placementRateChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-title">üéØ Internship Participation Trends</div>
                        <div class="chart-container">
                            <canvas id="internshipTrendChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-title">üí∞ Average Stipend Evolution</div>
                        <div class="chart-container">
                            <canvas id="stipendTrendChart"></canvas>
                        </div>
                    </div>
                </div>
            `;

            document.getElementById('content-container').innerHTML = html;
            hideLoading();

            // Create trend charts
            setTimeout(() => {
                createTrendChart();
                createPlacementRateChart();
                createInternshipTrendChart();
                createStipendTrendChart();
            }, 100);
        }

        // Chart Creation Functions using Chart.js
        function createPlacementChart(placements, internships) {
            const ctx = document.getElementById('placementChart');
            if (!ctx) return;

            const labels = [];
            const placementData = [];
            const internshipData = [];
            const colors = [];

            Object.entries(placements).forEach(([dept, stats], index) => {
                if (stats.placed !== null && stats.placed > 0) {
                    labels.push(dept.split(' ').slice(0, 2).join(' '));
                    placementData.push(stats.placed);
                    internshipData.push(internships[dept]?.students || 0);
                    colors.push(deptColors[dept] || ['#1a237e', '#3949ab']);
                }
            });

            if (labels.length === 0) {
                ctx.getContext('2d').font = '16px Arial';
                ctx.getContext('2d').textAlign = 'center';
                ctx.getContext('2d').fillStyle = '#666';
                ctx.getContext('2d').fillText('No placement data available', ctx.width / 2, ctx.height / 2);
                return;
            }

            chartInstances.placementChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Placements',
                        data: placementData,
                        backgroundColor: colors.map(color => color[0] + '80'),
                        borderColor: colors.map(color => color[0]),
                        borderWidth: 2,
                        borderRadius: 8,
                        borderSkipped: false,
                    }, {
                        label: 'Internships',
                        data: internshipData,
                        backgroundColor: colors.map(color => color[1] + '80'),
                        borderColor: colors.map(color => color[1]),
                        borderWidth: 2,
                        borderRadius: 8,
                        borderSkipped: false,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                usePointStyle: true,
                                padding: 20
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)',
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    },
                    animation: {
                        duration: 1000,
                        easing: 'easeOutQuart'
                    }
                }
            });
        }

        function createSalaryChart(placements) {
            const ctx = document.getElementById('salaryChart');
            if (!ctx) return;

            const labels = [];
            const avgSalaries = [];
            const maxSalaries = [];
            const minSalaries = [];

            Object.entries(placements).forEach(([dept, stats]) => {
                if (stats.avgSalary !== null) {
                    labels.push(dept.split(' ').slice(0, 2).join(' '));
                    avgSalaries.push(stats.avgSalary);
                    maxSalaries.push(stats.maxSalary || stats.avgSalary);
                    minSalaries.push(stats.minSalary || stats.avgSalary);
                }
            });

            if (labels.length === 0) {
                ctx.getContext('2d').font = '16px Arial';
                ctx.getContext('2d').textAlign = 'center';
                ctx.getContext('2d').fillStyle = '#666';
                ctx.getContext('2d').fillText('No salary data available', ctx.width / 2, ctx.height / 2);
                return;
            }

            chartInstances.salaryChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Average Salary',
                        data: avgSalaries,
                        borderColor: '#1a237e',
                        backgroundColor: '#1a237e20',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#1a237e',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 6
                    }, {
                        label: 'Max Salary',
                        data: maxSalaries,
                        borderColor: '#4CAF50',
                        backgroundColor: 'transparent',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        pointBackgroundColor: '#4CAF50',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 4
                    }, {
                        label: 'Min Salary',
                        data: minSalaries,
                        borderColor: '#FF5722',
                        backgroundColor: 'transparent',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        pointBackgroundColor: '#FF5722',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                usePointStyle: true,
                                padding: 20
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Salary (LPA)'
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)',
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    },
                    animation: {
                        duration: 1000,
                        easing: 'easeOutQuart'
                    }
                }
            });
        }

        function createTrendChart() {
            const ctx = document.getElementById('trendChart');
            if (!ctx) return;

            const years = Object.keys(placementData);
            const medianData = years.map(year => placementData[year].overall.medianSalary);
            const avgData = years.map(year => placementData[year].overall.avgSalary);
            
            // Calculate placement rates for each year
            const placementRates = years.map(year => {
                const data = placementData[year];
                const totalRegistered = calculateTotal(data.placements, 'registered');
                const totalPlaced = calculateTotal(data.placements, 'placed');
                return totalRegistered > 0 ? (totalPlaced / totalRegistered) * 100 : 0;
            });

            chartInstances.trendChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: years,
                    datasets: [{
                        type: 'bar',
                        label: 'Median Salary (LPA)',
                        data: medianData,
                        backgroundColor: [
                            '#FF6B6B80',
                            '#4ECDC480', 
                            '#45B7D180',
                            '#96C93D80'
                        ],
                        borderColor: [
                            '#FF6B6B',
                            '#4ECDC4', 
                            '#45B7D1',
                            '#96C93D'
                        ],
                        borderWidth: 2,
                        borderRadius: 8,
                        borderSkipped: false,
                        yAxisID: 'y'
                    }, {
                        type: 'bar',
                        label: 'Average Salary (LPA)',
                        data: avgData,
                        backgroundColor: [
                            '#FF8A65C0',
                            '#4DD0E1C0', 
                            '#42A5F5C0',
                            '#9CCC65C0'
                        ],
                        borderColor: [
                            '#FF8A65',
                            '#4DD0E1', 
                            '#42A5F5',
                            '#9CCC65'
                        ],
                        borderWidth: 2,
                        borderRadius: 8,
                        borderSkipped: false,
                        yAxisID: 'y'
                    }, {
                        type: 'line',
                        label: 'Placement Success Rate (%)',
                        data: placementRates,
                        borderColor: '#E91E63',
                        backgroundColor: 'transparent',
                        borderWidth: 3,
                        pointBackgroundColor: '#E91E63',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 3,
                        pointRadius: 8,
                        tension: 0.4,
                        yAxisID: 'y1'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                usePointStyle: true,
                                padding: 15,
                                font: {
                                    size: 11
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: 'Multi-Metric Performance Analysis',
                            font: {
                                size: 14,
                                weight: 'bold'
                            },
                            color: '#1a237e'
                        }
                    },
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Salary (LPA)',
                                color: '#1a237e'
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)',
                            },
                            ticks: {
                                color: '#1a237e'
                            }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            beginAtZero: true,
                            max: 100,
                            title: {
                                display: true,
                                text: 'Success Rate (%)',
                                color: '#E91E63'
                            },
                            grid: {
                                drawOnChartArea: false,
                            },
                            ticks: {
                                color: '#E91E63'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#333'
                            }
                        }
                    },
                    animation: {
                        duration: 1200,
                        easing: 'easeOutBounce'
                    }
                }
            });
        }

        function createPlacementRateChart() {
            const ctx = document.getElementById('placementRateChart');
            if (!ctx) return;

            const years = Object.keys(placementData);
            const rates = years.map(year => {
                const data = placementData[year];
                const totalRegistered = calculateTotal(data.placements, 'registered');
                const totalPlaced = calculateTotal(data.placements, 'placed');
                return totalRegistered > 0 ? (totalPlaced / totalRegistered) * 100 : 0;
            });

            chartInstances.placementRateChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: years,
                    datasets: [{
                        label: 'Placement Rate (%)',
                        data: rates,
                        backgroundColor: ['#FF6B6B80', '#4ECDC480', '#45B7D180', '#96C93D80'],
                        borderColor: ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96C93D'],
                        borderWidth: 2,
                        borderRadius: 8,
                        borderSkipped: false,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            title: {
                                display: true,
                                text: 'Placement Rate (%)'
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)',
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    },
                    animation: {
                        duration: 1200,
                        easing: 'easeOutBounce'
                    }
                }
            });
        }

        function createInternshipTrendChart() {
            const ctx = document.getElementById('internshipTrendChart');
            if (!ctx) return;

            const years = Object.keys(placementData);
            const totals = years.map(year => calculateTotal(placementData[year].internships, 'students'));

            chartInstances.internshipTrendChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: years,
                    datasets: [{
                        label: 'Total Internships',
                        data: totals,
                        borderColor: '#3949ab',
                        backgroundColor: '#3949ab20',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#3949ab',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 3,
                        pointRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Number of Students'
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)',
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    },
                    animation: {
                        duration: 1000,
                        easing: 'easeOutQuart'
                    }
                }
            });
        }

        function createStipendTrendChart() {
            const ctx = document.getElementById('stipendTrendChart');
            if (!ctx) return;

            const years = Object.keys(placementData);
            const avgStipends = years.map(year => {
                const data = placementData[year];
                let totalStipend = 0;
                let count = 0;
                
                for (const dept of Object.values(data.internships)) {
                    if (dept.avgStipend !== null && dept.avgStipend !== undefined) {
                        totalStipend += dept.avgStipend;
                        count++;
                    }
                }
                
                return count > 0 ? totalStipend / count : null;
            });

            // Filter out null values and corresponding years
            const filteredYears = [];
            const filteredStipends = [];
            years.forEach((year, index) => {
                if (avgStipends[index] !== null) {
                    filteredYears.push(year);
                    filteredStipends.push(avgStipends[index]);
                }
            });

            if (filteredStipends.length === 0) {
                ctx.getContext('2d').font = '16px Arial';
                ctx.getContext('2d').textAlign = 'center';
                ctx.getContext('2d').fillStyle = '#666';
                ctx.getContext('2d').fillText('No stipend data available', ctx.width / 2, ctx.height / 2);
                return;
            }

            chartInstances.stipendTrendChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: filteredYears,
                    datasets: [{
                        label: 'Average Stipend (LPM)',
                        data: filteredStipends,
                        borderColor: '#5c6bc0',
                        backgroundColor: '#5c6bc020',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#5c6bc0',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 3,
                        pointRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Stipend (LPM)'
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)',
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    },
                    animation: {
                        duration: 1000,
                        easing: 'easeOutQuart'
                    }
                }
            });
        }
    </script>
</body>
</html>
